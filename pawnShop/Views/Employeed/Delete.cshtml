@model EmployeeModel
@{
    ViewData["Title"] = "Delete";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Delete Employeed</h1>


<div class="card">
    <div class="card-header">
        Delete Employeed: @Model.Name @Model.LastName
    </div>
    <div class="card-body">
        <form asp-action="Delete" asp-controller="Employeed" method="post">
            <div class="form-group">
                <label for="InputId">DNI Employeed</label>
                <input type="text" class="form-control"  readonly placeholder="1 568da756" aria-describedby="InputId" asp-for="IDUser">

            </div>
            <div class="form-group">
                <label for="InputName">Name</label>
                <input type="text" class="form-control" id="InputName" readonly aria-describedby="nameHelp" placeholder="Enter name" asp-for="Name">
                <span asp-validation-for="Name" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label for="InputLast">Last Name</label>
                <input type="text" class="form-control" id="InputLastName" readonly aria-describedby="LastHelp" placeholder="Enter Last Name" asp-for="LastName">
                <span asp-validation-for="LastName" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label for="InputEmail1">Email</label>
                <input type="email" class="form-control" id="InputEmail1" readonly aria-describedby="emailHelp" placeholder="Enter email" asp-for="Email">
                <small id="emailHelp" class="form-text text-muted">We'll never share your email with anyone else.</small>
            </div>
            <div class="form-group">
                <label for="exampleInputPassword1">Password</label>
                <input type="text" class="form-control" id="exampleInputPassword1" readonly placeholder="Password" asp-for="Password">
                <span asp-validation-for="Password" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label for="phone">Phone</label>
                <input type="text" class="form-control" id="phone" readonly placeholder="+1 123-4868-4868" asp-for="Phone">
                <span asp-validation-for="Phone" class="text-danger"></span>
            </div>
            <br />
            <div class="form-row align-items-center">
                <div class="col-auto my-1">
                    <label class="mr-sm-2 sr-only" for="inlineFormCustomSelect">Role: </label>
                    <input type="text" class="form-control" id="phone" readonly placeholder="+1 123-4868-4868" name="Role" asp-for="Role">
           
                </div>
            </div>

            <br />
            <div class="form-group">
                <label for="LastUpdatedDate">Creation date</label>
                <input type="text" class="form-control" id="LastUpdatedDate" placeholder="MM/dd/yy" readonly asp-for="CreationDate">
            </div>
            <div class="form-group">
                <label for="LastUpdatedDate">Update date</label>
                <input type="text" class="form-control" id="LastUpdatedDate" placeholder="MM/dd/yy" readonly asp-for="LastUpdatedDate">
            </div>
            <br />
            <br />
            <button type="button" class="btn btn-danger" id="deleteButton">Delete</button>
            <button class="btn btn-primary" asp-action="list" asp-controller="Employeed">Back</button>
        </form>

    </div>
</div>

<!-- SweetAlert script -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        document.getElementById("deleteButton").addEventListener("click", function (e) {
            e.preventDefault(); 

            var name = document.getElementById("InputName").value;
            var last = document.getElementById("InputLastName").value;

            Swal.fire({
                title: "Are you sure to delete " + name + " " + last + "?",
                text: "You won't be able to revert this!",
                icon: "warning",
                showCancelButton: true,
                confirmButtonColor: "#3085d6",
                cancelButtonColor: "#d33",
                confirmButtonText: "Yes, delete it!"
            }).then((result) => {
                if (result.isConfirmed) {
                    Swal.fire({
                        title: "Deleted!", 
                        text: "Your file has been deleted.",
                        icon: "success",
                        timer: 10000
                    }).then(() => {
                        document.querySelector("form").submit();
                    });
                }
            });
        });
    });
</script>
